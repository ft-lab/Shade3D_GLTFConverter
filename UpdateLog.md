# 更新履歴

[2021/01/23] ver.0.2.5.1   

* [Fixed] Export : マテリアルの反復回数を指定している場合、無駄なベイクが発生しないようにした    
* [Fixed] Export : 「エンジン別にテクスチャを別途出力」時に、Metallic/Roughness値も乗算するようにした

[2021/01/08] ver.0.2.5.0   

* [Fixed] Export : 拡散反射マップ使用時+テクスチャにアルファ値がある場合にチャンネル合成が「アルファ乗算済み」を使うと正しい結果にならない場合がある問題を修正
* [Fixed] Export : マテリアルのマッピングの「法線」「発光」の反復は、個別の繰り返し回数を指定できるようにした。
* [Added] Export : Unigine/Unity向けのテクスチャを出力するオプション「エンジン別にテクスチャを別途出力」を追加
* [Added] Export : 「「不透明(Opacity)」と「透明(Transmission)」を分ける」オプションを追加
* [Added] Export : glTFの拡張機能、KHR_materials_transmission/KHR_materials_sheen/KHR_materials_clearcoatの情報出力

[2020/12/30] ver.0.2.4.3   

* [Fixed] Export : 「テクスチャを加工せずにベイク」がOnのとき、「荒さ」の値またはマッピングの「適用率」が1.0より小さい場合に、不正なラフネステクスチャが出力される問題を修正

[2020/12/28] ver.0.2.4.2   

* [Fixed] Export : AlphaModeがMask時にalphaCutoffが出力できていなかった問題を修正    
* [Fixed] Export : マスターイメージ名が同一のものがある場合、正しくテクスチャが出力されない場合があった問題を修正     
* [Added] Export :「テクスチャを加工せずにベイク」オプションを追加    
* [Added] Export : マッピングでバンプを使用している場合に、法線マップに置き換えて出力    

[2020/10/30] ver.0.2.4.1   

* [Fixed] Export : 面積がゼロの面がある場合に、頂点カラーを使用すると頂点カラーがずれる問題を修正    
* [Fixed] Export : 独立した表面材質が複数存在し、法線マップの「適用率」だけ変えたマテリアルが同一になる問題を修正    

[2020/10/05] ver.0.2.4.0   

* [Fixed] Export : ポリゴンメッシュのフェイスグループで「無し」がある場合に正しくエクスポートできない場合がある問題を修正
* [Fixed] Export : マテリアルでベースカラー（拡散反射）とそのテクスチャ指定がある場合、ベースカラー（拡散反射）で「色をリニアに変換」時にリニアに変換して出力するようにした    
* [Fixed] Import : MorphTargetsでノードの変換行列が考慮されていなかった問題を修正
* [Fixed] Import : スキン使用時に階層構造で回転要素があるとき、正しくインポートできない場合があった問題を修正
* [Fixed] Import : アニメーションのキーフレームでtranslationまたはrotationの指定がない場合に、不正にアニメーションする問題の修正
* [Fixed] Import : 「法線を読み込み」がOnのとき、頂点法線がglTFに存在しない場合にクラッシュする問題を修正
* [Fixed] Import : glTFでMeshの三角形の頂点インデックスを持たない場合、Shade3Dでメッシュ化するときの重複頂点のマージを行わないようにした
* Export : 同一マスターサーフェスの判定を最適化。マスターサーフェス多用時のエクスポート速度を改善
* Export : Shade3Dマテリアルとしてエクスポートする場合の、ベイク処理によるPBRマテリアル近似を微調整    
* Import : MeshでのKHR_mesh_quantization拡張機能の対応

[2020/07/18] ver.0.2.3.2   
* [Fixed] Import : dracoのglTFファイルをインポートしたときにフリーズすることのある問題を修正
* [Fixed] Import : glTFでマテリアルの割り当てがない場合に読み込みエラーになる問題を修正
* [Fixed] Import : glTFでMeshにIndicesがない場合に面が貼られない問題を修正
* [Fixed] Import : Meshの頂点でSparse Accessorを使った頂点座標の置き換えを反映
* [Fixed] Import : キーフレームが多い場合の読み込み速度の最適化
* Import : メッシュ自身にアニメーション情報がある場合、ボーンを作成しその中にメッシュを入れるようにした
* Import : アニメーションのLINEARの反映

[2020/07/05] ver.0.2.3.1   
* [Fixed] Export : テクスチャイメージをベイクする際、マスターイメージ名に拡張子指定がある場合にイメージが正しく出力されないことがある問題を修正
* [Fixed] Import : アニメーションデータが正しく読み込まれない場合があった問題を修正

[2020/06/28] ver.0.2.3.0   
* [Added] UI : インポート/エクスポート/Occlusion/AlphaModeの名前に「Shade3D Material」を追加。
* [Added] Import : インポート時にファイルダイアログボックスで「glb/gltf」を同時に表示する選択を追加
* [Added] Import : 「色をリニアから変換」チェックボックスを追加
* [Added] Export : せん断、未サポートジョイント、クラシックスキン使用時はエクスポート時にメッセージを出すようにした
* [Added] Export : ボーンの変換行列で回転を使用している場合に、エクスポートできるようにした
* [Fixed] Import/Export : ボーンやボールジョイントを使った構造の最適化
* [Fixed] Import : インポート時にメッシュの稜線が生成されない場合がある問題を修正 
* [Fixed] Import : Windows環境で、ファイルパスに日本語がある場合にAnimation/Skinの読み込みで失敗する問題を修正
* [Fixed] Import : アニメーション読み込みの最適化 (速度アップ)
* [Fixed] Export : エクスポート時に自由曲面をポリゴンメッシュに変換して出力する際に、極小の面の法線が0になることがある問題を回避 
* [Fixed] Export : レンダリングしない形状はエクスポートから除外（継承のときに親をたどれていなかった）
* [Fixed] Export : イメージファイル名として使用できない文字がある場合に「_」に置き換え
* [Fixed] Export : skin＋Subdivisionを使用した場合にポリゴンメッシュの頂点が崩れる問題を修正
* [Fixed] Export : 表面材質のマッピングで拡散反射が「乗算」でない場合はbaseColorFactorは(1, 1, 1)にした
* [Fixed] Export : アニメーションで使用するボーン名が同一名の場合はリネームするようにした
* [Fixed] Import/Export : Occlusion Textureのチャンネルがレンダリングに反映されていなかった問題を修正
* [Fixed] Export : メッシュに頂点カラー情報を持ち、マテリアルに頂点カラーレイヤの指定がない場合は、頂点カラー情報を削除するようにした    

[2020/04/26] ver.0.2.2.3   
* Export : 表面材質の拡散反射と反射のテクスチャのサイズが異なる場合に、クラッシュすることがあった問題を修正    
* Export : 表面材質の拡散反射と反射のテクスチャがある場合に、拡散反射テクスチャが明るくなる問題を修正    

[2020/04/21] ver.0.2.2.2   
* Export : 「色をリニアに変換」で、Emissiveの色をリニアにする処理を追加
* Export : Metallic-Roughnessテクスチャの繰り返し回数が出力されていなかった問題を修正
* Export : マテリアルのマッピングで法線 + 乗算合成時に不正なテクスチャが出力されていた問題を修正

[2020/04/20] ver.0.2.2.1   
* Export : 拡散反射色と拡散反射テクスチャがある場合に、色が二重にかかる問題を修正

[2020/04/20] ver.0.2.2.0   
* Export : 何回かエクスポートしているとクラッシュする場合があった問題を修正
* Export : 表面材質の複数テクスチャ使用時のベイク対応を見直し（できるだけShade3Dの表面材質のレンダリングに近づけるようにしました）    
* Export : 表面材質のマッピングで「マット」に対応
* Export : 表面材質のマッピングでOcclusionを使用した際に、RGBAのチャンネルを選択するUIを追加
* Export : メッシュのスキン使用時に、1頂点で同一ボーンを参照する場合の調整 (glTF構文でエラーになる問題を回避)。

[2019/12/27] ver.0.2.1.3   
* Export : ブラウザで「面反転」を使用している場合に、面の向きが正しく出力されていなかった問題を修正

[2019/12/19] ver.0.2.1.2   
* Import : extensionsの読み込みで例外が発生してインポートできない場合があった問題を修正

[2019/11/13] ver.0.2.1.1   
* Import : AlphaModeの読み込み。表面材質属性に格納される。
* Import : AlphaCutoffの読み込み。表面材質属性に格納される。
* Import : KHR_materials_pbrSpecularGlossinessのマテリアル情報の読み込み。
* Import : ノードでmatrixを指定している場合、転置して読み込んでいたのを修正

[2019/11/10] ver.0.2.1.0   
* Export : エクスポートオプションに「出力形式」を追加。glb/gltfのどちらで出力するか選択。
* Export : エクスポートオプションに「色をリニアに変換」を追加
* Export : 表面材質属性に、AlphaModeの指定を追加 (Opaque/Blend/Mask、AlphaCutoffの指定)
* Export : AlphaModeでMASKを指定した場合のalphaCutoffのデフォルト値を0.5に変更
* Export : 表面材質の「不透明マスク」テクスチャを反映

[2018/12/26] ver.0.2.0.6   
* Export : 英語でShade3Dを使用している場合に、glTF Export処理を行うとダイアログボックスが出る前にフリーズする問題を修正

[2018/12/24] ver.0.2.0.5   
* Import : イメージ名に「/」などのファイル名として指定できない文字を使用している場合、イメージの読み込みに失敗する問題を修正

[2018/10/20] ver.0.2.0.4   
* Import/Export : マテリアルのunlit対応（Shade3Dの表面材質の「陰影付けしない」のチェックボックス）

[2018/10/07] ver.0.2.0.3   
* Export : 「Mesh内のPrimitiveの頂点情報を共有」オプションを追加
* [内部処理] : Draco圧縮していないファイルをインポートする際に、不正になる場合がある問題を修正
* [内部処理] : インポート時のDraco圧縮時のエラー処理を強化

[2018/10/03] ver.0.2.0.2   
* Export : 「最大テクスチャサイズ」オプションを追加
* Import/Export : Draco圧縮に対応
* Export : メッシュでフェイスグループ使用時 + 面積がない面がある場合に、エクスポート時にクラッシュすることがある問題を修正

[2018/09/16] ver.0.2.0.1   
* [内部処理] : MotionUtilプラグインが存在しない場合でもクラッシュしないようにした

[2018/09/08] ver.0.2.0.0   
* [内部処理] glTF処理ライブラリを「Microsoft.glTF.CPP」から「Microsoft glTF SDK」に置き換え  
* [内部処理] モーション処理部を「MotionUtil」という別プラグインに分けて管理  
* Mac対応
* Import/Export : Morph Targets情報の入出力(アニメーションのキーフレームはまだです)  
* Import : Importダイアログボックスでvrm形式を選択できるようにした  
* Import : VRMのライセンス情報とMorph Targets名を読み込み  

[2018/08/18] ver.0.1.0.15   
* Import : 表面材質の拡散反射レイヤを追加する際に、合成は「乗算」とするようにした（glTFでは、BaseColorFactorとBaseColorTextureは乗算する仕様のため）。
* Import : skinのskeleton要素を持つ場合、skeletonはルートボーンとなるためそのノード以降はボーンと判断。    

[2018/08/13] ver.0.1.0.14   
* Import/Export : 表面材質のNormalレイヤで「適用率」を反映するようにした。    

[2018/07/19] ver.0.1.0.13   
* Import/Export : 表面材質のOcclusionレイヤでUV1/UV2を選択できるようにした。    
* Import/Export : 表面材質の「透明」に対応。    
* Export : 表面材質で「反射」値を指定している場合の拡散反射色（BaseColor相当）の計算を微調整。

[2018/07/15] ver.0.1.0.12   
* 表面材質のマッピングレイヤとして、「Occlusion (glTF)」の種類を追加。    
* Import/Export : Occlusionテクスチャイメージの割り当ては、表面材質のマッピングレイヤの「Occlusion (glTF)/拡散反射」を使用するようにした。

[2018/07/13] ver.0.1.0.11   
* Import : マテリアルがdoubleSidedの場合は、マスターサーフェス名に「_doubleSided」を追加
* Export : 微小の面がある場合に、頂点カラーが正しく出力されないことがある問題を修正

[2018/07/05] ver.0.1.0.10   
* Export : UVが存在しない場合は、UVを出力しないように修正
* Import : Node階層で、glTF構造のSkinリストにない終端Nodeはパートのままとした (以前はボーンに変換していた)
* Import : 「イメージのガンマ補正」を有効にした場合に、Emissiveのテクスチャイメージにもガンマ補正をかけるようにした
* Import/Export : イメージ名に全角文字が入っていると不正になる問題を修正

[2018/06/30] ver.0.1.0.9   
* Export : マスターイメージ名で同じものがある場合、イメージが上書きされて意図しないマッピングになる問題を修正
* Export : Shade3DのDiffuse/Reflection/Roughnessテクスチャイメージより、BaseColor/Roughness/Metallicにコンバートする処理を実装
* Export : 複数のテクスチャがある場合に1枚にベイクする処理を実装
* Export : 表面材質のマッピングレイヤの「反復」の対応はいったん仕様外に。
* Export : 面積がゼロの面は出力しないようにした
* Import : マテリアル名で全角の名前を指定していた場合、うまくイメージが読み込めない問題を修正
* Import : テクスチャイメージのガンマ補正をかける場合、BaseColorのみを補正するようにした (それ以外はLinear)
* Import : インポート時のテクスチャイメージのガンマ補正が効かない場合があった問題を修正

[2018/06/23] ver.0.1.0.8   
* Export : エクスポート時のダイアログボックスで、Asset情報として「タイトル」「作成者」「ライセンス」「原型モデルの参照先」を指定できるようにした
* Export/Import : 出力/入力時のglTF/glbのファイルパスで全角のフォルダ名がある場合などに処理に失敗する問題を修正

[2018/06/20] ver.0.1.0.7   
* Export : 表面材質の「イメージ/拡散反射」で合成が「乗算」の場合は、Occlusionとして出力（暫定対応）
* Import : 一部の形状の読み込みで不正になる問題を修正 (glTFのbyteStrideの判別が正しくなかった)

[2018/06/14] ver.0.1.0.6   
* Export/Import : 表面材質のマッピングのテクスチャの反復に暫定対応 (extensionのKHR_texture_transform)。    
* Export/Import : ボーン＋スキンのアニメーション入出力に対応。

[2018/06/07] ver.0.1.0.5   
* Export/Import : 表面材質のマッピングレイヤでの「アルファ透明」は、glTFのalphaModeをBLENDからMASKに変更。    
この場合は、Export時にalphaCutoffを0.9として出力するようにした。
* Export : Export時のマスターサーフェス名の「doubleSided」指定がうまくglTFに反映されていなかった問題を修正。

[2018/06/07] ver.0.1.0.4   
* Export/Import : 表面材質のマッピングレイヤでの「アルファ透明」の対応。
* GLTF → glTF に名称変更。

[2018/06/05] ver.0.1.0.3   
* Export/Import : ポリゴンメッシュの頂点カラーの入出力に対応。頂点カラー0のみを使用します。

[2018/06/01] ver.0.1.0.2   
* Export : スキンを割り当てた場合に、出力結果が不正になる問題を修正。SkinのinverseBindMatricesの出力を行うようにしました。

[2018/05/30] ver.0.1.0.1   
* Export/Import : マテリアルのテクスチャ割り当てにて、UV1も割り当てできるようにした。

[2018/05/27] ver.0.1.0.0   
* 初回版 (Winのみ)

